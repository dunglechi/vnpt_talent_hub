# ============================================
# VNPT Talent Hub - Production Environment
# ============================================
# CRITICAL: Copy this file to .env and configure with secure values
# DO NOT commit .env file to version control

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string format:
# postgresql+psycopg2://username:password@host:port/database
DATABASE_URL=postgresql+psycopg2://prod_user:CHANGE_THIS_PASSWORD@db.vnpt.vn:5432/vnpt_talent_hub

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Generate secure SECRET_KEY with: openssl rand -hex 32
# CRITICAL: Change this in production!
SECRET_KEY=CHANGE_THIS_TO_64_CHARACTER_RANDOM_HEX_STRING

# JWT Algorithm (do not change unless you know what you're doing)
ALGORITHM=HS256

# Access token expiration (in minutes)
# Production: 15 minutes for security
ACCESS_TOKEN_EXPIRE_MINUTES=15

# Refresh token expiration (in days)
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Environment mode: production, staging, development
ENVIRONMENT=production

# Debug mode (MUST be false in production)
DEBUG=false

# Application host and port
HOST=0.0.0.0
PORT=8000

# Number of worker processes (recommend: 2-4 workers per CPU core)
WORKERS=4

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins
# Production example: https://talent-hub.vnpt.vn,https://app.vnpt.vn
CORS_ORIGINS=https://talent-hub.vnpt.vn

# CORS allow credentials
CORS_ALLOW_CREDENTIALS=true

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# Log file path (optional, leave empty for stdout only)
LOG_FILE=/var/log/vnpt-talent-hub/app.log

# ============================================
# EMAIL CONFIGURATION (for notifications)
# ============================================
# SMTP server settings
SMTP_HOST=smtp.vnpt.vn
SMTP_PORT=587
SMTP_USER=noreply@vnpt.vn
SMTP_PASSWORD=CHANGE_THIS_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@vnpt.vn
SMTP_FROM_NAME=VNPT Talent Hub

# Enable email verification
EMAIL_VERIFICATION_ENABLED=true

# Email verification token expiration (hours)
EMAIL_VERIFICATION_EXPIRE_HOURS=24

# ============================================
# RATE LIMITING CONFIGURATION
# ============================================
# Rate limiting enabled
RATE_LIMITING_ENABLED=true

# Login endpoint: max attempts per minute per IP
RATE_LIMIT_LOGIN=5/minute

# Register endpoint: max attempts per hour per IP
RATE_LIMIT_REGISTER=3/hour

# API endpoints: max requests per minute per user
RATE_LIMIT_API=60/minute

# ============================================
# SECURITY HEADERS
# ============================================
# Force HTTPS (redirect HTTP to HTTPS)
FORCE_HTTPS=true

# HSTS (HTTP Strict Transport Security) max age in seconds
HSTS_MAX_AGE=31536000

# Content Security Policy (CSP)
CSP_ENABLED=true

# ============================================
# MONITORING & PERFORMANCE
# ============================================
# Enable application monitoring
MONITORING_ENABLED=true

# Sentry DSN (optional, for error tracking)
SENTRY_DSN=

# New Relic license key (optional)
NEW_RELIC_LICENSE_KEY=

# ============================================
# DATABASE CONNECTION POOL
# ============================================
# SQLAlchemy connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=3600

# ============================================
# REDIS CONFIGURATION (optional, for caching)
# ============================================
# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Cache TTL (time to live) in seconds
CACHE_TTL=300

# Enable caching
CACHE_ENABLED=true

# ============================================
# BACKUP CONFIGURATION
# ============================================
# Database backup enabled
DB_BACKUP_ENABLED=true

# Backup schedule (cron format: minute hour day month day_of_week)
DB_BACKUP_SCHEDULE=0 2 * * *

# Backup retention days
DB_BACKUP_RETENTION_DAYS=30

# Backup storage path
DB_BACKUP_PATH=/var/backups/vnpt-talent-hub

# ============================================
# AUDIT LOGGING
# ============================================
# Enable audit logging for admin actions
AUDIT_LOGGING_ENABLED=true

# Audit log retention days
AUDIT_LOG_RETENTION_DAYS=365

# ============================================
# INTEGRATION SETTINGS
# ============================================
# LDAP/Active Directory integration
LDAP_ENABLED=false
LDAP_SERVER=ldap://ldap.vnpt.vn:389
LDAP_BASE_DN=dc=vnpt,dc=vn
LDAP_BIND_DN=cn=admin,dc=vnpt,dc=vn
LDAP_BIND_PASSWORD=CHANGE_THIS_LDAP_PASSWORD

# HRIS integration
HRIS_ENABLED=false
HRIS_API_URL=https://hris.vnpt.vn/api
HRIS_API_KEY=CHANGE_THIS_HRIS_API_KEY

# LMS integration
LMS_ENABLED=false
LMS_API_URL=https://lms.vnpt.vn/api
LMS_API_KEY=CHANGE_THIS_LMS_API_KEY

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable features for gradual rollout
FEATURE_EMAIL_VERIFICATION=true
FEATURE_RATE_LIMITING=true
FEATURE_AUDIT_LOGGING=true
FEATURE_CACHING=false
FEATURE_ANALYTICS_DASHBOARD=false

# ============================================
# MAINTENANCE MODE
# ============================================
# Enable maintenance mode (blocks all requests except /health)
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ============================================
# NOTES
# ============================================
# 1. Generate SECRET_KEY: openssl rand -hex 32
# 2. Use strong passwords for all credentials
# 3. Restrict DATABASE_URL to internal network only
# 4. Configure CORS_ORIGINS to match your frontend domain
# 5. Enable FORCE_HTTPS in production
# 6. Set up monitoring (Sentry/New Relic) for production
# 7. Configure regular database backups
# 8. Review and enable rate limiting
# 9. Set up log rotation for LOG_FILE
# 10. Test configuration in staging before production
